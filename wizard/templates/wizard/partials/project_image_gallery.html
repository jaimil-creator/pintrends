<div class="grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 gap-4 p-4 max-h-[60vh] overflow-y-auto" id="gallery-grid">
    {% for img in images %}
    <div class="group relative cursor-pointer rounded-xl overflow-hidden hover:ring-4 hover:ring-pinterest-red/30 transition-all aspect-[2/3] bg-gray-100"
        onclick="selectGalleryImage('{{ img.url }}')">
        <img src="{{ img.url }}" alt="{{ img.source }}" class="w-full h-full object-cover">
        <div
            class="absolute inset-0 bg-black/40 opacity-0 group-hover:opacity-100 transition-opacity flex flex-col justify-end p-2">
            <p class="text-[10px] text-white font-medium truncate">{{ img.source }}</p>
        </div>
    </div>
    {% empty %}
    <div class="col-span-full py-10 text-center">
        <i class="bi bi-images text-4xl text-gray-200 mb-2"></i>
        <p class="text-sm text-gray-400">No blog images found in this project.</p>
    </div>
    {% endfor %}
</div>

<!-- Upload Section -->
<div class="mt-6 pt-4 border-t border-gray-100 flex items-center justify-between p-4">
    <label
        class="px-5 py-2.5 bg-gray-900 text-white text-sm font-semibold rounded-xl cursor-pointer hover:bg-black transition-all flex items-center gap-2 shadow-sm">
        <i class="bi bi-upload"></i>
        <span>Upload Custom</span>
        <input type="file" id="custom-image-upload" class="hidden" accept="image/*" onchange="handleCustomUpload(this)">
    </label>
    <button onclick="closeImageModal()"
        class="px-4 py-2 text-sm font-medium text-gray-400 hover:text-gray-600 transition-colors">Close</button>
</div>