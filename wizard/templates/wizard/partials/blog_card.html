<div class="bg-white rounded-2xl shadow-md border border-gray-200 p-6 relative group/card">
    <button hx-post="{% url 'wizard:toggle_blog_selection_htmx' blog_post.id %}" hx-target="closest .bg-white"
        hx-swap="outerHTML"
        class="absolute top-4 right-4 z-10 w-8 h-8 flex items-center justify-center rounded-full transition-all duration-200 {% if blog_post.is_selected %}bg-green-500 text-white shadow-md{% else %}bg-gray-100 text-gray-400 hover:bg-gray-200{% endif %}"
        title="{% if blog_post.is_selected %}Selected{% else %}Add to Blog Setup{% endif %}">
        {% if blog_post.is_selected %}
        <i class="bi bi-check-lg text-lg"></i>
        {% else %}
        <i class="bi bi-plus-lg text-lg"></i>
        {% endif %}
    </button>
    <div class="flex items-start gap-4 mb-4">
        {% if blog_post.thumbnail_url %}
        <img src="{{ blog_post.thumbnail_url }}" alt="{{ blog_post.topic }}" class="w-32 h-20 object-cover rounded-lg">
        {% else %}
        <div class="w-32 h-20 bg-gray-100 rounded-lg flex items-center justify-center">
            <i class="bi bi-image text-gray-400 text-2xl"></i>
        </div>
        {% endif %}

        <div class="flex-1">
            <h4 class="font-bold text-gray-900 mb-1">{{ blog_post.topic }}</h4>
            <p class="text-xs text-gray-500 mb-2">
                <i class="bi bi-clock"></i> {{ blog_post.created_at|timesince }} ago
            </p>

            <div class="flex flex-wrap gap-2">
                <span class="inline-flex items-center gap-1 bg-gray-100 px-2 py-1 rounded-full text-xs font-medium">
                    <i class="bi bi-card-text"></i> {{ blog_post.get_section_count }} sections
                </span>
                <span
                    class="inline-flex items-center gap-1 bg-green-50 text-green-700 px-2 py-1 rounded-full text-xs font-medium">
                    <i class="bi bi-check-circle-fill"></i> Completed
                </span>
            </div>
        </div>
    </div>

    <div class="flex items-center gap-2 pt-4 border-t border-gray-100">
        <button hx-get="{% url 'wizard:blog_detail_htmx' blog_post.id %}" hx-target="#modal-container"
            hx-swap="innerHTML"
            class="flex-1 bg-gray-100 hover:bg-gray-200 text-gray-900 font-bold py-2 px-3 rounded-full transition-colors text-xs">
            <i class="bi bi-eye"></i> Preview
        </button>



        <button onclick="showRegenerateConfirm({{ blog_post.id }})"
            class="flex-1 bg-orange-50 hover:bg-orange-100 text-orange-700 font-bold py-2 px-3 rounded-full transition-colors text-xs">
            <i class="bi bi-arrow-clockwise"></i> Regenerate
        </button>

        <a href="{% url 'wizard:export_blog_docx' blog_post.id %}"
            class="flex-1 bg-blue-50 hover:bg-blue-100 text-blue-700 font-bold py-2 px-3 rounded-full transition-colors text-xs text-center">
            <i class="bi bi-file-earmark-text"></i> DOCX
        </a>

        <a href="{% url 'wizard:export_blog_json' blog_post.id %}"
            class="flex-1 bg-purple-50 hover:bg-purple-100 text-purple-700 font-bold py-2 px-3 rounded-full transition-colors text-xs text-center">
            <i class="bi bi-code-square"></i> JSON
        </a>


    </div>
</div>